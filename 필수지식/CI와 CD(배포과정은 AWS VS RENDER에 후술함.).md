# ✅ 개발자가 코드를 짠 이후 해야 할 일: CI/CD의 필요성

소프트웨어 개발에서 코드 작성은 단지 시작일 뿐이다.  
코드가 **실제 사용자에게 전달되기까지**는 다음과 같은 단계들이 있다.

1. 코드 테스트  
2. 코드 통합 (다른 사람 코드랑 병합)  
3. 배포 서버에 업로드  
4. 실제 서비스 환경에서 작동하는지 검증  

이걸 전부 수동으로 하면 다음과 같은 문제들이 생긴다.

---

## ⚠️ 수동 배포/통합의 문제점

- **"dev 서버에 누가 배포했나요?"**  
  → 변경 이력을 추적하기 어렵다

- **"제 환경에서만 안 돼요!"**  
  → 개발 환경과 운영 환경이 달라서 생기는 문제

- **"이거 테스트도 안 하고 배포한 거 아닌가요?"**  
  → 사소한 실수가 전체 서비스 장애로 이어질 수 있음

- **"누가 최신 코드 안 받고 작업한 것 같은데요?"**  
  → 여러 명이 동시에 작업하면서 충돌 발생 가능성 높음

---

## 🛠️ CI/CD가 뭔가?

**CI/CD (Continuous Integration / Continuous Delivery / Deployment)**는  
코드를 **통합하고, 테스트하고, 배포하는 과정을 자동화**하는 개발 방식이다.

| 용어 | 설명 |
|------|------|
| **CI (지속적 통합)** | 여러 개발자의 코드를 자주 통합하고 자동으로 빌드 + 테스트 |
| **CD - Continuous Delivery (지속적 전달)** | 테스트 통과한 코드를 운영 직전까지 자동으로 배포 가능한 상태로 만들기 |
| **CD - Continuous Deployment (지속적 배포)** | 코드가 테스트를 통과하면 운영 서버에까지 자동으로 배포

---

## 📦 왜 CI/CD가 필요할까?

- ✅ **버그 줄이기**: 테스트가 자동으로 돌아가니까  
- ✅ **배포 속도 증가**: 클릭 몇 번이면 배포 끝  
- ✅ **협업 효율↑**: 충돌 줄고, 코드 통합 더 수월  
- ✅ **롤백 가능**: 문제 생기면 바로 이전 버전으로 복구 가능

---

## 🔧 대표적인 CI/CD 도구

- **GitHub Actions**  
- **Jenkins**  
- **GitLab CI/CD**  
- **CircleCI / Travis CI / Bitbucket Pipelines**
- **Render(이거 씀)**

---

## ✅ 핵심 요약

> 여러 명이 협업하는 프로젝트에서는 **CI/CD는 선택이 아니라 필수**  
> 코드를 짜는 것뿐만 아니라, **안정적으로 배포하는 과정까지도 자동화**하는 게 현대 개발 방식의 핵심이다.

---

## 📌 CI & CD 파이프라인 (코드 작성부터 배포까지)

![CI/CD 파이프라인](https://github.com/user-attachments/assets/75ed6c39-3236-46a9-95de-96132eb933a9)

- **Continuous Integration**: 코드를 빌드하고, 테스트하고, 병합까지 처리  
- **Continuous Delivery**: 배포 가능한 상태로 릴리스  
- **Continuous Deployment**: 운영 환경(실제 사용자용)으로 자동 배포

**파이프라인이 좋은 이유**  
- 테스트가 자동으로 포함돼 있어서, 테스트 안 통과하면 merge 자체가 안 됨 (merge는 git에서)
- 덕분에 코드 품질이 보장된 채로 배포 가능

---

## 🧪 테스트란 뭘까?

| 테스트 종류 | 범위 | 목적 | 속도 |
|-------------|------|------|------|
| **Unit Test (단위 테스트)** | 함수 하나 | 기능이 잘 작동하는지 확인 | ⚡ 매우 빠름 |
| **Integration Test (통합 테스트)** | 모듈 간 연결 | 여러 기능이 잘 연동되는지 확인 | ⏱ 중간 |
| **E2E Test (엔드투엔드 테스트)** | 전체 앱 | 사용자가 실제로 쓰는 흐름을 따라 테스트 | 🐢 느림 |

---

## 💡 참고

Webpack 같은 툴은 여러 모듈을 웹 브라우저에서 실행 가능한 정적 자산(html/css/js)으로 변환해준다.  
Vue 파일처럼 확장자가 다른 모듈들이 많을 때, 이걸 정리해서 배포 가능한 구조로 만드는 것도 자동화의 일부다.
<img src="https://github.com/user-attachments/assets/45519197-cac5-48f4-b277-107018900c0d" width="600" />

#유닛 테스트 예시 

<img width="612" alt="Image" src="https://github.com/user-attachments/assets/6751bb66-e0de-47c2-bc75-00ce7ebdef5a" />
<img width="607" alt="Image" src="https://github.com/user-attachments/assets/f6142fe0-2f96-4d3f-ab85-6a08888a1216" />

이외에 코드 보안 테스트도 있음.
 
 테스트를 여럿이서 할 때, <br>
 "내가 해본 걸로 하자."<br>
 "아니 내 테스트가 좀 더 좋은 것 같은데?"<br>
 작은 프로젝트 같은 경우는 충돌을 최소화하기 위해서 어떤 폴더는 해당 개발자만 맡는다고 할 수 있지만,<br>
-충돌이라는 것은 대부분 일어나므로 조금 더 작은 단위로 일어나게 하는 것이 중요하다.<br>
-한달동안 코드를 짜서 배포하는게 아니라 작은 issue단위로 나눠서 보통 merge.<br>
-그렇다고 너무 atomic하게 작은 단위로는 하지 않고 작은 issue기반으로 merge함.<br>
-만약 충돌 시, 서로 화면공유하면서 합의하에 충돌을 해결하는게 가장 좋음.<br>
-http://github.com/mochajs/mocha/pull/4511<br>

## 배포 
배포는 그저 사용자를 위한 서비스를 배포할 수도 있다고 생각할 수 있지만 그뿐만이 아닌 내부적으로 <br>
QA엔지니어나 관리자페이지를 위한 배포, 데이터웨어하우스로부터 데이터를 가공해서 백엔드 개발자를 위한 배포 등을 포함한다.<br>
(Today_I_Learn/AWS vs RENDER 레포 참고)<br>

## 툴 
heroku가 유료화되었다는 소식을 들어서, render를 사용해보기로 함.<br>


