# 간단한 API 구축 (Node.js/Express) - 파일 기반 불변 응답

Node.js와 Express 프레임워크를 이용하여, 특정 파일 내용을 기반으로 API 응답을 제공하며, 파일 수정 시 서버 재시작 전까지 API 응답이 유지되도록 서버를 구축하는 방법.

## Node.js와 Express

**Node.js**는 Google Chrome V8 JavaScript 엔진 기반 JavaScript 런타임 환경. 비동기 이벤트 주도 방식과 논블로킹 I/O 모델 특징. 확장성 있는 네트워크 애플리케이션 개발에 적합.

**Express**는 Node.js 기반 인기 웹 프레임워크. 라우팅 설정, 미들웨어 관리, 정적 자원 제공 등 간편 처리 기능 제공.

## 라우팅 이해

**라우팅**은 클라이언트 특정 요청 (HTTP 메서드와 **URI** 또는 경로 조합)에 대해 애플리케이션이 응답하는 방식 결정 과정. 예: `http://127.0.0.1:3000/product` **URI**로 `GET` 요청 시, 서버가 어떤 데이터를 반환할지 정의. Express는 라우팅 쉽게 구현하도록 지원.

## URI와 URL

**URI (Uniform Resource Identifier)** 는 웹 자원 식별 고유 문자열. **URL (Uniform Resource Locator)** 은 URI 한 형태로, 자원 위치와 접근 방법 명시. `http://127.0.0.1:3000` 은 **URL**. `http`는 프로토콜, `127.0.0.1` 은 IP 주소 (루프백 IP, 자기 컴퓨터), `3000` 은 포트 번호. 포트 번호는 일반적으로 URL에 미표시되지만, 기본 포트 (HTTP: 80, HTTPS: 443) 아닌 경우 표시해야 함.

## 파일 기반 불변 API 구축

내부 파일 내용 변경 시 API 응답 즉시 수정 안 되도록 하는 방법은, 서버 시작 시 파일 내용 읽어 메모리에 저장, API 요청 시 메모리 저장 데이터 제공.

**구현 방식 (예시):**

1.  **파일 읽기 (서버 시작 시):** Node.js `fs` 모듈 사용, 서버 시작 시 특정 JSON 파일 읽어 JavaScript 객체로 파싱 후 메모리에 저장.
2.  **라우팅 설정:** Express 사용, 특정 **URI** (예: `/product`) `GET` 요청 처리 라우팅 정의.
3.  **응답 제공:** 정의된 라우트 핸들러 함수에서 메모리 저장 데이터 JSON 형태로 클라이언트에게 응답.

**장점:**

이 방식 API 구축 시, 내부 데이터 파일 수정돼도 서버 재시작 전까지 API 응답 변경 없음. 설정 파일이나 자주 안 바뀌는 데이터 API 제공 시 유용.

**예시 URI:**

API 엔드포인트는 `http://127.0.0.1:3000/product` 형태 가능. 클라이언트 이 **URI**로 `GET` 요청 보내면, 서버는 메모리 캐싱된 파일 내용 응답.
