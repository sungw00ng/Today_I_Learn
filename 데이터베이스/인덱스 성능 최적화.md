## 인덱스는 비용이다.
- 2번 탐색하도록 강요하며, 탐색에 따른 비용이 든다.
- index list, collection 순으로 탐색하므로 관련 읽기 비용이 든다.
- 중복 인덱스, 불필요한 인덱스는 제거해야 한다.

## 항상 테스팅하라.
- 인덱스 최적화 기법은 도메인의 특징에 따라 다르고,
- 서비스에서 사용하는 data의 크기, 종류, 타입 등이 다르다.
- 따라서, explain() 함수로 인덱스를 만들고 쿼리를 보낸 이후
- 테스팅을 하며 걸리는 시간을 최소화 해야 한다.
```sql
CREATE TABLE products (
    product_id INT PRIMARY KEY,
    product_name VARCHAR(100),
    price DECIMAL(10, 2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 대량의 테스트 데이터 삽입
INSERT INTO products (product_id, product_name, price) VALUES
(1, 'Laptop', 1200.00),
(2, 'Mouse', 25.00),
(3, 'Keyboard', 75.00),
(4, 'Monitor', 300.00),
(5, 'Headphones', 150.00),
(6, 'Webcam', 80.00),
(7, 'Microphone', 200.00);

-- 추가 데이터 삽입 (예시이므로 생략)
-- ...

-- price 컬럼에 B-트리 인덱스 생성
CREATE INDEX idx_price ON products(price);

-- EXPLAIN으로 쿼리 실행 계획 확인
EXPLAIN SELECT * FROM products WHERE price > 100.00;
```
- EXPLAIN 쿼리를 실행하면, MySQL이 idx_price 인덱스를 사용하여
- range 스캔(범위 검색)을 수행한다는 것을 확인할 수 있다.
- 인덱스가 없다면 full table scan(전체 테이블 스캔)을 수행해 느려졌을 것이다.

## 복합 인덱스 설정 방법(순서)
1. `==` 혹은 `equal` 
2. 정렬에 쓰는 필드가 있다면 그 다음 인덱스로 설정한다.
3. <,>,between
4. 카디널리티가 높은 순서대로


